"""
Python Line EDiting
"""
# Python 2 compatibility
from __future__ import print_function, unicode_literals
__metaclass__ = type

import os
import sys
import RPi.GPIO as gpio
import time
import curses

class TermIO:
    def __init__(self):
        self.queue = []
        self._getch = self._getgetch()
    def _getgetch(self):
        try:
            import msvcrt
            return msvcrt.getch
        except ImportError:
            import tty, termios
            def getch():
                infile = sys.stdin.fileno()
                old_settings = termios.tcgetattr(infile)
                try:
                    tty.setraw(infile)
                    return sys.stdin.read(1)
                finally:
                    termios.tcsetattr(infile, termios.TCSADRAIN, old_settings)
            return getch
    def getch(self):
        if len(self.queue):
            return self.queue.pop()
        else:
            return self._getch()
    def putch(self, ch):
        self.queue.append(ch)

gpio.setmode(gpio.BOARD)
LED_PIN = 22
gpio.setup(LED_PIN, gpio.OUT)
gpio.output(LED_PIN, True)
time.sleep(1)

#Term = TermIO()
win = curses.initscr()
win.nodelay(1)

key=" "
while key!='a' and key!="'a'" and key!=ord('a'):
    key = win.getch()
    if key:
	print(key)
	gpio.output(LED_PIN, True)
    else:
	print("nothing")
	gpio.output(LED_PIN, False)    
    time.sleep(0.1)

gpio.output(LED_PIN, False)
gpio.cleanup()
